const schedule=[{imgURL:"Campaing Passes x25",timeDuration:432e5},{imgURL:"Quadruple Regeneration-3days",timeDuration:864e5},{imgURL:"Challenge Token",timeDuration:108e5},{imgURL:"Campaing Passes x5",timeDuration:108e6},{imgURL:"Double XP-3days",timeDuration:36e6},{imgURL:"Critical Stirikes-3days",timeDuration:54e6},{imgURL:"Campaing Passes x25",timeDuration:1296e5},{imgURL:"Jackpot Token",timeDuration:684e5},{imgURL:"Anti-Critical Shield-1day",timeDuration:432e5},{imgURL:"Reactor Token",timeDuration:108e5},{imgURL:"Triple XP-3days",timeDuration:648e5},{imgURL:"Double Regeneration-7days",timeDuration:1512e5},{imgURL:"Critical Stirikes-7days",timeDuration:54e6},{imgURL:"Anti-Critical Shield-3days",timeDuration:432e5},{imgURL:"Campaing Passes x25",timeDuration:864e5},{imgURL:"Jackpot Token",timeDuration:1296e5},{imgURL:"Double Regeneration-3days",timeDuration:1296e5},{imgURL:"Triple XP-7days",timeDuration:864e5}],startTime=16331112e5,timeMilisecond=[315576e5,26298e5,864e5,36e5,6e4,1e3];let selectEvents=[2,7,9,15];scheduleDuration=0;for(let j=0;j<schedule.length;j++)scheduleDuration+=schedule[j].timeDuration;const neonText=document.querySelector(".subtitle");for(let i=1;i<neonText.children.length;i++)neonText.children[i].style.setProperty("--spead-animation-s",`${getRandomInt(6)}s`),neonText.children[i].style.setProperty("--delay-animation-s",`${getRandomInt(9)}s`);function getRandomInt(max){return Math.floor(Math.random()*max)}const footer=document.querySelector("footer");footer.style.setProperty("--speed-animation-s",`${getRandomInt(50)+1}s`);let timeZone=new Date;footer.innerHTML=`${timeZone}`.substring(25);let season=(new Date).getMonth()+1;season=Math.floor(season/3),season=4==season?0:season;const seasonColorsValue=[{SName:"Winter","--season-Bg":"#506d8d","--season-color1":"#506d8d","--season-color2":"#2571c6","--season-color-select":`${colorHexA("#506d8d",50)}`,"--season-screen":"100deg"},{SName:"Spring","--season-Bg":"#48385f","--season-color1":"#48385f","--season-color2":"#895297","--season-color-select":`${colorHexA("#48385f",50)}`,"--season-screen":"-60deg"},{SName:"Summer","--season-Bg":"transparent","--season-color1":"#ff9b25","--season-color2":"#ff9b25","--season-color-select":`${colorHexA("#ff9b25",50)}`,"--season-screen":"50deg"},{SName:"Fall","--season-Bg":"#641811","--season-color1":"#641811","--season-color2":"#d11f1f","--season-color-select":`${colorHexA("#641811",50)}`,"--season-screen":"170deg"}];let rootCSS=document.documentElement.style;for(var key in seasonColorsValue[season])rootCSS.setProperty(`${key}`,`${seasonColorsValue[season][key]}`);const facebookLink=document.querySelector(".facebook");function styleDate(d){return`${d.getDate()}.${d.getMonth()+1}.${d.getFullYear()}`}function numberVisitsAdd(){localStorage.setItem("numberVisits",Number(localStorage.getItem("numberVisits"))+1)}facebookLink.addEventListener("click",()=>{window.location.href=facebookLink.children[0].href}),styleDate(new Date)!==localStorage.getItem("lastDayVisits")&&(numberVisitsAdd(),localStorage.setItem("lastDayVisits",styleDate(new Date)),Number(localStorage.getItem("numberVisits"))>999&&localStorage.setItem("numberVisits",1));const levelAnimationSpeed=50;rootCSS.setProperty("--level-speed","0.05s");let lvl=Number(localStorage.getItem("numberVisits"));const lvlEvoCenter=document.querySelector(".levels .content"),questionsButton=document.querySelectorAll("button.info , button.exit"),infoPanel=document.querySelector("aside.info"),b=document.querySelector("body"),level=document.querySelector(".levl");let lvlAnimationTimer;for(let i=0;i<questionsButton.length;i++)questionsButton[i].addEventListener("click",()=>{infoPanel.classList.toggle("active"),b.classList.toggle("noScroll"),lvlEvoCenter.classList.add("active"),lvlEvoCenter.style.setProperty("--lvl",`${lvl}px`),lvlEvoCenter.style.setProperty("--lvl-s",`${lvl}`),level.textContent!=levelStylization(lvl)&&(lvlAnimationTimer=setInterval(lvlNumberAnimation,50))});function lvlNumberAnimation(){level.textContent<levelStylization(lvl)&&(level.textContent=levelStylization(Number(level.textContent)+1)),level.textContent>=levelStylization(lvl)&&clearInterval(lvlAnimationTimer)}function levelStylization(n){return(n=Number(n))<10?`00${n}`:n<100?`0${n}`:n}const headerTimer=document.querySelector(".main");let borderWidth=5,bord="";for(let i=-borderWidth;i<borderWidth+1;i++)for(let j=-borderWidth;j<borderWidth+1;j++)bord+=`${i}px ${j}px #000000,`;bord=bord.slice(0,-1);for(let i=0;i<headerTimer.children.length;i++)headerTimer.children[i].style.textShadow=bord;const screensConteiner=document.querySelector("main .timers"),checkedConteiner=document.querySelector("main .list .conteiner");let inputEvents="";for(let i=0;i<schedule.length;i++)checkedConteiner.innerHTML+=`<div class="list-item" style="--img:url(../IMG/items/${schedule[i].imgURL.split(" ").join("_").padEnd(schedule[i].imgURL.length+4,".png")}); --animation-deley: ${i+1}s;"><input type="checkbox" name="" id="${schedule[i].imgURL}${[i]}"><label for="${schedule[i].imgURL}${[i]}"></label><span class="duration">${timeStyle(schedule[i].timeDuration)}</span></div>`;const checkedList=checkedConteiner.children;for(let i=0;i<checkedList.length;i++)checkedList[i].classList.add("active");checkedList[7].classList.add("now");const listInput=document.querySelectorAll(".list-item input");for(let i=0;i<listInput.length;i++)listInput[i].addEventListener("change",listChange);localStorage.getItem("ActiveEvents")?autoChecked(localStorage.getItem("ActiveEvents").toString().split(",")):autoChecked(selectEvents);const pop=[popup=document.querySelector(".schedule"),popupClose=document.querySelector(".schedule .close")];for(let i=0;i<pop.length;i++)pop[i].addEventListener("click",()=>{popup.classList.remove("visible"),b.classList.remove("noScroll")});let eventItems;listChange();let easterEgg=0;function listChange(){selectEvents=[],screensConteiner.innerHTML="";for(let i=0;i<checkedList.length;i++)listInput[i].checked&&(selectEvents.push(i),screensConteiner.innerHTML+=`<div class="event" tabindex="0" style="--img:url(../IMG/items/${schedule[i].imgURL.split(" ").join("_").padEnd(schedule[i].imgURL.length+4,".png")});" data-start="Встав сюди початок щоб при кліці робити вспливашку з розписанням"><div class="screen"><h2 class="event-name">${schedule[i].imgURL}</h2><p class="event-duration">Duration: ${timeStyle(schedule[i].timeDuration)}</p><div class="icon"></div>\t\t<p class="timer">14h 41m 13s</p>\t</div>\t<p class="time">START: <span>Fri Oct 22 2021 18:00:00</span><br>END: <span>Sat Oct 23 2021 06:00:00</span></p></div>`);localStorage.setItem("ActiveEvents",selectEvents),eventItems=document.querySelectorAll(".event");for(let i=0;i<eventItems.length;i++)eventItems[i].addEventListener("click",(function(){b.classList.add("noScroll");let timeStart=this.dataset.start;popup.style.setProperty("--img",`${this.style.cssText.split("\\").join("").slice(6,-1)}`),popup.children[0].children[1].innerHTML="";for(let j=0;j<10;j++)popup.children[0].children[1].innerHTML+=`<li>${delGMT(new Date(Number(timeStart)+scheduleDuration*j))}</li>`;popup.classList.add("visible"),easterEgg=[this.style.cssText.split("\\").join("").slice(23,-6).split("_").join(" "),timeStart]}))}function autoChecked(arr){for(let i=0;i<arr.length;i++)listInput[arr[i]].checked=!0;localStorage.setItem("ActiveEvents",arr),selectEvents=arr}function timeStyle(num){let days=[];for(let i=0;i<timeMilisecond.length;i++)days[i]=Math.trunc(num/timeMilisecond[i]),num-=days[i]*timeMilisecond[i];let stringDate="",timeABR;for(let j=0;j<days.length;j++)0!=days[j]&&(0==j&&(timeABR="y"),1==j&&(timeABR="m"),2==j&&(timeABR="d"),3==j&&(timeABR="h"),4==j&&(timeABR="m"),5==j&&(timeABR="s"),stringDate+=days[j]+timeABR+" ");return stringDate}function colorHexA(colorHex,alpha_0_100){var hex;return colorHex+Math.round(255*alpha_0_100/100).toString(16)}const tipsItems=document.querySelector(".tips");for(let i=0;i<tipsItems.children.length;i++)tipsItems.children[i].style.setProperty("--speed-animation-s",`${getRandomInt(10)+5}s`);function delGMT(str){return str.toString().slice(0,25)}const titleName=document.querySelector("header .title"),titleEvent=document.querySelector("header .event-number"),titleTimer=document.querySelectorAll("header .main p");myTimer();var nowTimer=setInterval(myTimer,1e3);function myTimer(){nowTime=Date.now();let timerEventNow=scheduleNow(nowTime,startTime);selectEvents&&calculationBeginningEvents(timerEventNow)}function scheduleNow(now,start){let passed=0,elapsedTime=now-start;elapsedTime>=scheduleDuration&&(formule=Math.trunc(elapsedTime/scheduleDuration),passed=formule*schedule.length,elapsedTime-=scheduleDuration*formule);let i=elapsedTime,eventNow=0;for(;i>=schedule[eventNow].timeDuration;)i-=schedule[eventNow].timeDuration,eventNow++,passed++,eventNow>=schedule.length&&(eventNow=0);let timer=dateСalculation(schedule[eventNow].timeDuration-i),eventTitle,mainTimer;if(eventTitle!=eventNow+1){titleName.innerHTML=schedule[eventNow].imgURL,eventTitle=eventNow+1,mainTimer=schedule[eventNow].timeDuration-i,titleEvent.innerHTML=`${eventNow+1} of ${schedule.length} events`,titleTimer[1].innerHTML=`END: ${delGMT(new Date(Date.now()+mainTimer))}`;for(let i=0;i<checkedList.length;i++)checkedList[i].classList.remove("now");checkedList[eventNow].classList.add("now")}return titleTimer[0].innerHTML=timeStyle(mainTimer),[timer,eventNow,schedule[eventNow].timeDuration-i]}function calculationBeginningEvents(p){for(let i=0;i<selectEvents.length;i++){let addTime=0,j=p[1];for(j++,j==schedule.length&&(j=0);j!=selectEvents[i];)addTime+=schedule[j].timeDuration,j++,j==schedule.length&&(j=0);eventItems[i].children[0].children[3].innerHTML=timeStyle(p[2]+addTime),timer=p[2]+addTime+nowTime;let t=[];t[0]=timer,j>=schedule.length&&(j=0),addTime+=schedule[j].timeDuration,timer=p[2]+addTime+nowTime,t[1]=timer,eventItems[i].children[1].innerHTML=`<p class="time">START: <span>${delGMT(new Date(t[0]))}</span><br>END: <span>${delGMT(new Date(t[1]))}</span></p>`,eventItems[i].dataset.start=t[0]}}function dateСalculation(num){let days=[];for(let i=0;i<timeMilisecond.length;i++)days[i]=Math.trunc(num/timeMilisecond[i]),num-=days[i]*timeMilisecond[i];return days}function runOnKeys(func,...codes){let pressed=new Set;document.addEventListener("keydown",(function(event){pressed.add(event.code);for(let code of codes)if(!pressed.has(code))return;pressed.clear(),func()})),document.addEventListener("keyup",(function(event){pressed.delete(event.code)}))}runOnKeys(()=>{if(0!=easterEgg){console.log(easterEgg[0]);for(let j=0;j<100;j++)console.log(`${j+1}. `,delGMT(new Date(Number(easterEgg[1])+scheduleDuration*j)))}},"KeyM","KeyL");